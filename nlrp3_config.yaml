# ==========================================
# ğŸ”¥ NLRP3æŠ‘åˆ¶å‰‚è™šæ‹Ÿç­›é€‰é…ç½®æ–‡ä»¶
# åŸºäºå·²çŸ¥NLRP3æŠ‘åˆ¶å‰‚ï¼ˆMCC950, CY-09ç­‰ï¼‰ä¼˜åŒ–
# ==========================================

# ğŸ“Š æ•°æ®é…ç½®
data:
  references_csv: data/nlrp3_references.csv  # NLRP3å·²çŸ¥æŠ‘åˆ¶å‰‚å‚è€ƒæ–‡ä»¶
  library_csv: data/nlrp3_library_2w/library.csv  # NLRP3å®šåˆ¶ç­›é€‰åº“

# ğŸ“ è¾“å‡ºé…ç½®
output:
  dir: nlpr3_outputs/nlrp3_2w        # NLRP3ä¸“ç”¨è¾“å‡ºç›®å½•
  hits_csv: nlrp3_hits.csv             # ç­›é€‰ç»“æœæ–‡ä»¶
  report_txt: nlrp3_screening_report.txt  # æŠ¥å‘Šæ–‡ä»¶

# ğŸ§¬ åˆ†å­æŒ‡çº¹å‚æ•°ï¼ˆNLRP3ä¼˜åŒ–ï¼‰
fingerprints:
  morgan_radius: 3          # å¢å¤§åˆ°3ï¼ˆNLRP3æŠ‘åˆ¶å‰‚é€šå¸¸åˆ†å­è¾ƒå¤§ï¼‰
  morgan_nbits: 2048        # ä¿æŒ2048ä½

# ğŸ¤– Mol2vecæ¨¡å‹é…ç½®
mol2vec:
  model_path: "models/mol2vec_model.pkl"  # Mol2vecé¢„è®­ç»ƒæ¨¡å‹è·¯å¾„

# ğŸ¯ ç›¸ä¼¼æ€§æƒé‡é…ç½®ï¼ˆNLRP3è°ƒæ•´ï¼‰
similarity:
  w_1d: 0.1                # â¬†ï¸ æé«˜1Dæƒé‡ï¼ˆåºåˆ—ç›¸ä¼¼æ€§å¯¹NLRP3å¾ˆé‡è¦ï¼‰
  w_2d: 0.6               # ä¿æŒ2Dæƒé‡ï¼ˆè¯æ•ˆå›¢ï¼‰
  w_3d: 0.3               # â¬‡ï¸ é™ä½3Dæƒé‡ï¼ˆNLRP3ä¸»è¦çœ‹2Dè¯æ•ˆå›¢ï¼‰

# ğŸ” è¿‡æ»¤å™¨é…ç½®ï¼ˆNLRP3ç‰¹å¼‚æ€§ï¼‰
filters:
  pains: true               # å¯ç”¨PAINSè¿‡æ»¤
  cns_filter: false         # âŒ å…³é—­CNSè¿‡æ»¤ï¼ˆNLRP3ä¸åœ¨ä¸­æ¢ç¥ç»ç³»ç»Ÿï¼‰
  nlrp3_specific: true      # âœ… å¯ç”¨NLRP3ç‰¹å¼‚æ€§è¿‡æ»¤

  # NLRP3ç‰¹å¼‚æ€§è¯ç‰©è§„åˆ™ï¼ˆåŸºäºMCC950ç­‰å·²çŸ¥æŠ‘åˆ¶å‰‚ï¼‰
  nlrp3_rules:
    mw_min: 250             # â¬†ï¸ æé«˜æœ€å°åˆ†å­é‡ï¼ˆNLRP3æŠ‘åˆ¶å‰‚é€šå¸¸è¾ƒå¤§ï¼‰
    mw_max: 600             # â¬†ï¸ æé«˜æœ€å¤§åˆ†å­é‡ï¼ˆå…è®¸æ›´å¤§åˆ†å­ï¼‰
    
    logp_min: 1.5           # â¬†ï¸ æé«˜æœ€å°LogPï¼ˆéœ€è¦ä¸€å®šè„‚æº¶æ€§ï¼‰
    logp_max: 6.0           # â¬†ï¸ æé«˜æœ€å¤§LogPï¼ˆå…è®¸æ›´é«˜è„‚æº¶æ€§ï¼‰
    
    tpsa_min: 30            # âœ… æ–°å¢æœ€å°TPSAï¼ˆé¿å…è¿‡äºç–æ°´ï¼‰
    tpsa_max: 120           # â¬†ï¸ æ”¾å®½æœ€å¤§TPSA
    
    hbd_max: 3              # â¬‡ï¸ é™ä½æ°¢é”®ä¾›ä½“ï¼ˆNLRP3æŠ‘åˆ¶å‰‚é€šå¸¸è¾ƒå°‘ï¼‰
    hba_max: 8              # â¬‡ï¸ é™ä½æ°¢é”®å—ä½“
    
    rotb_max: 10            # ä¿æŒå¯æ—‹è½¬é”®
    
    # NLRP3ç‰¹æœ‰çš„ç»“æ„è¦æ±‚
    aromatic_rings_min: 2   # âœ… è‡³å°‘2ä¸ªèŠ³é¦™ç¯
    aromatic_rings_max: 5   # ä¸è¶…è¿‡5ä¸ªèŠ³é¦™ç¯
    
    heavy_atoms_min: 15     # â¬†ï¸ æœ€å°é‡åŸå­æ•°
    heavy_atoms_max: 45     # é€‚ä¸­çš„æœ€å¤§é‡åŸå­æ•°

  # ä¼˜é€‰çš„ç»“æ„ç‰¹å¾ï¼ˆåŸºäºå·²çŸ¥æ´»æ€§åŒ–åˆç‰©ï¼‰
  preferred_features:
    sulfonamide: 2.0        # ç£ºé…°èƒºåŸºå›¢ï¼ˆå¦‚MCC950ï¼‰æƒé‡åŠ å€
    pyridine: 1.5           # å¡å•¶ç¯
    pyrimidine: 1.5         # å˜§å•¶ç¯
    imidazole: 1.5          # å’ªå”‘ç¯
    benzamide: 1.2          # è‹¯ç”²é…°èƒº
    halogen: 1.0            # å¤ç´ å–ä»£
    urea: 1.3               # è„²åŸºå›¢

# ğŸ¨ 3Då½¢çŠ¶ç›¸ä¼¼æ€§é…ç½®ï¼ˆNLRP3è°ƒæ•´ï¼‰
shape3d:
#  num_confs: 10             # â¬†ï¸ å¢åŠ æ„è±¡æ•°é‡ï¼ˆæ›´å½»åº•æœç´¢ï¼‰
  num_confs: 1
  seed: 42                  # éšæœºç§å­
  max_attempts: 10
#  max_attempts: 100         # â¬†ï¸ å¢åŠ å°è¯•æ¬¡æ•°
  prune_rms_thresh: 0.1     # RMSé˜ˆå€¼
  use_mmff: false            # ä½¿ç”¨MMFFåŠ›åœºä¼˜åŒ–

# ğŸ¤– AIæ¨¡å‹é…ç½®ï¼ˆNLRP3ä¼˜åŒ–ï¼‰
ai_model:
  similarity_threshold: 0.50    # â¬‡ï¸ é™ä½é˜ˆå€¼ï¼ˆNLRP3æŠ‘åˆ¶å‰‚å¤šæ ·æ€§å¯èƒ½è¾ƒå¤§ï¼‰
  use_clustering: true          # å¯ç”¨èšç±»åˆ†æ
  use_outlier_filter: true      # å¯ç”¨å¼‚å¸¸å€¼æ£€æµ‹
  
  # èšç±»å‚æ•°
  clustering:
    n_clusters: 8               # èšç±»æ•°é‡
    method: "kmeans"            # èšç±»æ–¹æ³•
    
  # ç›¸ä¼¼æ€§æœç´¢å‚æ•°
  similarity_search:
    enabled: true               # âœ… å¯ç”¨åŸºäºå·²çŸ¥æ´»æ€§ç‰©çš„ç›¸ä¼¼æ€§æœç´¢
    min_similarity: 0.6         # æœ€å°ç›¸ä¼¼æ€§é˜ˆå€¼
    fingerprint_type: "ECFP6"   # ä½¿ç”¨ECFP6ï¼ˆæ›´å¤§åŠå¾„ï¼‰

# âš¡ æ€§èƒ½ä¼˜åŒ–é…ç½®
performance:
  chunk_size: 10000            # æµå¼å¤„ç†å—å¤§å°
  max_results: 50000           # æœ€å¤§ç»“æœæ•°é‡
  use_streaming: false         # æ˜¯å¦å¯ç”¨æµå¼å¤„ç†
  
# ğŸ“Š æ‰“åˆ†æƒé‡é…ç½®ï¼ˆNLRP3ä¸“ç”¨ï¼‰
scoring:
  # å¤šç»´åº¦æ‰“åˆ†
  similarity_weight: 0.5       # ç›¸ä¼¼æ€§å¾—åˆ†æƒé‡
  structure_weight: 0.3        # ç»“æ„ç‰¹å¾å¾—åˆ†æƒé‡
  druglikeness_weight: 0.2     # æˆè¯æ€§å¾—åˆ†æƒé‡
  
  # é¢å¤–æ‰“åˆ†å› ç´ 
  bonus_for_known_scaffolds: 0.1  # å·²çŸ¥éª¨æ¶åŠ åˆ†
  penalty_for_complexity: 0.05    # å¤æ‚åº¦æƒ©ç½š

# ğŸ¯ é¶ç‚¹ç‰¹å¼‚æ€§é…ç½®
target_specific:
  target_name: "NLRP3"
  target_type: "Inflammasome component"
  binding_site: "NACHT domain ATP-binding pocket"
  
  # å·²çŸ¥çš„å…³é”®ç›¸äº’ä½œç”¨
  key_interactions:
    - "Hydrogen bond with ATP binding site"
    - "Hydrophobic interactions in pocket"
    - "Ï€-Ï€ stacking with aromatic residues"
  
  # é¿å…çš„ç»“æ„ç‰¹å¾
  avoid_features:
    - "Reactive electrophiles"
    - "Michael acceptors (unless validated)"
    - "Aldehyde groups"
    - "Peroxide groups"

# ğŸ“ˆ éªŒè¯é…ç½®
validation:
  # åç»­å®éªŒéªŒè¯çš„ä¼˜å…ˆçº§
  prioritization:
    max_compounds: 100           # æ¨èéªŒè¯çš„æœ€å¤§åŒ–åˆç‰©æ•°
    diversity_threshold: 0.7     # å¤šæ ·æ€§é˜ˆå€¼ï¼ˆTanimotoï¼‰
    
  # æ’åºæ ‡å‡†
  ranking_criteria:
    - "combined_score"           # é¦–è¦ï¼šç»„åˆå¾—åˆ†
    - "reference_similarity"     # æ¬¡è¦ï¼šä¸å·²çŸ¥æ´»æ€§ç‰©ç›¸ä¼¼æ€§
    - "structural_novelty"       # ç¬¬ä¸‰ï¼šç»“æ„æ–°é¢–æ€§
    - "druglikeness"            # ç¬¬å››ï¼šæˆè¯æ€§