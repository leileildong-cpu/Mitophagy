# ==========================================
# ğŸš€ è¶…é«˜é€Ÿè™šæ‹Ÿç­›é€‰ç³»ç»Ÿé…ç½®æ–‡ä»¶ - æœ€ä½³åŒ¹é…ç­–ç•¥
# ==========================================

data:
  references_csv: data/references.csv
  library_csv: data/mitophagy_library_2k/library.csv

# ğŸ“ è¾“å‡ºé…ç½®
output:
  dir: mit_outputs/mit_2k_best_match         # æ–°çš„è¾“å‡ºç›®å½•ï¼ˆé¿å…è¦†ç›–ï¼‰
  hits_csv: screening_hits.csv
  report_txt: screening_report.txt

# ğŸ§¬ åˆ†å­æŒ‡çº¹å‚æ•°
fingerprints:
  morgan_radius: 2
  morgan_nbits: 2048

# ğŸ¤– Mol2vecæ¨¡å‹é…ç½®
mol2vec:
  model_path: "models/mol2vec_model.pkl"

# ğŸ¯ ç›¸ä¼¼æ€§æƒé‡é…ç½® - ã€å…³é”®ä¿®æ”¹ã€‘
similarity:
  w_1d: 0.5                 # æé«˜1Dæƒé‡ï¼ˆMorganæŒ‡çº¹æœ€å¯é ï¼‰
  w_2d: 0.3                 # é™ä½2Dæƒé‡ï¼ˆè¯æ•ˆå›¢ï¼‰
  w_3d: 0.2                 # é™ä½3Dæƒé‡ï¼ˆå‡å°‘è®¡ç®—é‡ï¼‰

# ğŸ” è¿‡æ»¤å™¨é…ç½® - ã€æ”¾å®½è¿‡æ»¤æ¡ä»¶ã€‘
filters:
  pains: true
  cns_filter: true

  # CNSè¯ç‰©è§„åˆ™å‚æ•° - ã€å…³é”®ä¿®æ”¹ï¼šæ›´å®½æ¾çš„æ¡ä»¶ã€‘
  cns_rules:
    mw_min: 100             # é™ä½æœ€å°åˆ†å­é‡ï¼ˆåŸ150â†’100ï¼‰
    mw_max: 800             # æé«˜æœ€å¤§åˆ†å­é‡ï¼ˆåŸ500â†’800ï¼‰
    tpsa_max: 250           # æé«˜TPSAä¸Šé™ï¼ˆåŸ90â†’250ï¼‰
    hbd_max: 10             # æé«˜æ°¢é”®ä¾›ä½“ä¸Šé™ï¼ˆåŸ5â†’10ï¼‰
    hba_max: 15             # æé«˜æ°¢é”®å—ä½“ä¸Šé™ï¼ˆåŸ10â†’15ï¼‰
    rotb_max: 15            # æé«˜å¯æ—‹è½¬é”®ä¸Šé™ï¼ˆåŸ10â†’15ï¼‰
    logp_min: -5            # é™ä½LogPä¸‹é™ï¼ˆåŸ-3â†’-5ï¼‰
    logp_max: 8             # æé«˜LogPä¸Šé™ï¼ˆåŸ5â†’8ï¼‰

# ğŸ¨ 3Då½¢çŠ¶ç›¸ä¼¼æ€§é…ç½®
shape3d:
  num_confs: 3              # å‡å°‘æ„è±¡æ•°ï¼ˆåŸ5â†’3ï¼ŒåŠ é€Ÿï¼‰
  seed: 42
  max_attempts: 20          # å‡å°‘å°è¯•æ¬¡æ•°ï¼ˆåŸ50â†’20ï¼ŒåŠ é€Ÿï¼‰
  prune_rms_thresh: 0.5
  use_mmff: true

# ğŸ¤– AIæ¨¡å‹é…ç½® - ã€å…³é”®ä¿®æ”¹ï¼šå¤§å¹…é™ä½é˜ˆå€¼ã€‘
ai_model:
  similarity_threshold: 0.30    # å¤§å¹…é™ä½é˜ˆå€¼ï¼ˆåŸ0.75â†’0.30ï¼‰
  use_clustering: true
  use_outlier_filter: false     # æš‚æ—¶ç¦ç”¨å¼‚å¸¸å€¼æ£€æµ‹ï¼ˆå‡å°‘å¹²æ‰°ï¼‰

# âš¡ æ€§èƒ½ä¼˜åŒ–é…ç½®
performance:
  chunk_size: 10000
  max_results: 50000
  use_streaming: false

# ğŸ¯ ç­›é€‰å‚æ•°ï¼ˆæ–°å¢ï¼‰
screening:
  batch_size: 10000
  top_n: 1000               # ä¿ç•™Top 1000ç»“æœ
  min_score: 0.20           # æœ€ä½å¾—åˆ†é˜ˆå€¼
  max_results: 5000